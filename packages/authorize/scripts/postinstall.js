const{readdirSync:n,readFileSync:r,writeFileSync:e,existsSync:s,unlinkSync:t,rmdirSync:o}=require("fs"),{resolve:i,join:c}=require("path"),a=__dirname.split("node_modules")[0],f=require(c(a,"package.json")),d=require(i("package.json")),u=i("dist"),l=function(){const n=["wxss","ttss","acss","css"].findIndex((n=>s(c(a,`app.${n}`))));return["wx","tt","my","xhs"][n]||f.platform}(),p=(d.buildConfig||{}).platforms||[];if(p.length<=1&&process.exit(0),!l)throw new Error("无法自动检测平台，请在package.json中通过platform指定");const h=c(u,l);n(h).forEach((n=>{const s=c(h,n),t=r(s,"utf-8");e(c(u,n),t,"utf-8")})),p.forEach((r=>{!function(r){const e=i(`dist/${r}`);n(e).forEach((n=>{t(c(e,n))})),o(e)}(r)}));
