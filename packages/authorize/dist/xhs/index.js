const e={};function n(n){Object.assign(e,n)}const t=e=>({...e,message:e.errMsg});async function r(e,n,...r){const s="string"==typeof e?xhs[e]:e;return new Promise(((e,o)=>{s.call(xhs,{...n,success:n=>{"ok"===n.errMsg.split(":")[1]?e(n):o(t(n))},fail:e=>o(t(e))},...r)}))}async function s(e){r("hideLoading");const{confirm:n}=await r("showModal",{title:"提示",content:"功能需要开启授权，是否前往设置页开启"});if(!n)return Promise.reject(new Error("model点击取消"));const{authSetting:t}=await r("openSetting");return t[e]?Promise.resolve("授权成功"):Promise.reject(new Error("取消授权"))}async function o(e,n){return r(e,n)}export{o as call,t as createFailError,s as getApiScope,r as promiseify,n as registerApiScope};
